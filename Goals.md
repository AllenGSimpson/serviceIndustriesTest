# Goals.md – Service‑Sector Expansion Module

*(Industrial Revolution Mod, v 0.3 draft – 9 Jul 2025)*

---

## 1  | Vision

> **Bring the Victorian economy’s “third sector” to life.**
> Pop demand should evolve naturally from raw staples → processed consumer goods → paid **services** such as dining out, drinking, and social leisure—mirroring real‑world urbanisation and rising living standards. By 1900 a great‑power capital ought to be dotted with cafés, restaurants, and bars employing thousands of cooks, waiters, and managers, not just factory hands.

---

## 2  | Top‑Level Objectives

| #     | Outcome                                                                                                                | Success metric                                                                                 |
| ----- | ---------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| **1** | Players can build **service establishments** that convert existing consumer goods into higher‑value *service goods*.   | By 1870 at least 5 % of world GDP in test runs is generated by service buildings.              |
| **2** | Introduce two new POP types—**service\_worker** and **manager**—with distinct SoL, IG attraction, and promotion paths. | Service\_Workers account for 3–8 % of workforce in industrial nations by 1900; Managers < 1 %. |
| **3** | Add first granular consumer/service good pair: **Beer** (new) vs **Liquor** (existing).                                | Bar PM switch alters alcohol service mix; beer price decouples from liquor price.              |
| **4** | Maintain performance & UX clarity.                                                                                     | + ≤ 5 % average tick time in 1860 benchmark save; no new UI rows appear empty.                 |

---

## 3  | Guiding Design Principles

1. **One‑in, one‑out abstraction:** Each new service building consumes *one* major consumer good and outputs a *service\_* good that satisfies the same need **more efficiently** (e.g., 1 unit coffee → 0.8 unit `service_coffee`, which counts as 1 unit *Coffee* for need fulfilment).
2. **Urban pull, rural push:** Service buildings spawn only in Urban states; their inputs remain mostly rural. This deepens supply‑chain geography.
3. **Low‑risk POP addition:** Service\_Workers behave like Labourers with lower mortality; Managers sit between Clerks and Capitalists. No extra IGs are added.
4. **Optional flavour, not bloat:** Every building launches with 2–3 Production Methods (PMs) max; more can be DLC‑style later.

---

## 4  | Core Feature Specification

### 4.1  New Goods

| Tag               | Category     | Consumed by POP need         | Supplied by          | Notes                                      |
| ----------------- | ------------ | ---------------------------- | -------------------- | ------------------------------------------ |
| `beer`            | **consumer** | Luxury Drinks (poor/avg)     | Breweries (existing) | Split from Liquor; base price 20.          |
| `service_beer`    | **service**  | Luxury Drinks (¾ weight)     | **Bar** (Beer PM)    | Counts as 1.25 × *Beer* when meeting need. |
| `service_liquor`  | service      | Luxury Drinks (full weight)  | Bar (Liquor PM)      | Premium; yields +Prestige in rich states.  |
| `service_food`    | service      | Staple Food (rich weight)    | **Restaurant**       | Uses Meat or Groceries.                    |
| `service_coffee`  | service      | Luxury Drinks (middle-class) | **Café**             | Requires Coffee input.                     |
| `service_tobacco` | service      | Luxury Drinks (poor/middle)  | **Dispensary**       | Requires Tobacco input.                    |

### 4.2  New POP Types

| POP                 | Class        | Literacy req. | Wage factor   | IG attraction (base)                                                        | Promotion sources / sinks                      |
| ------------------- | ------------ | ------------- | ------------- | --------------------------------------------------------------------------- | ---------------------------------------------- |
| **service\_worker** | Low          | 10 %          | 1.2× labourer | 40 % Trade Unions, 30 % Petite‑B., 15 % Industrialists, 15 % no‑IG          | From Labourers; to Clerks / Shopkeepers        |
| **manager**         | Middle (low) | 25 %          | 1.4× clerk    | 45 % Petite‑B., 30 % Industrialists, 15 % Intelligentsia, 10 % Trade Unions | From Service\_Workers / Clerks; to Capitalists |

### 4.3  New Buildings & PMs

| Building (group)             | Default PMs                                                                                                                                                                                    | Inputs                | Outputs & effects                                                              | Workforce mix                                     |
| ---------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------- | ------------------------------------------------------------------------------ | ------------------------------------------------- |
| **Bar** (Hospitality)        | 1. **Beer Hall** (unlocked 1830): consumes Beer → `service_beer`.<br>2. **Spirit Bar** (unlocks Distillation): consumes Liquor → `service_liquor`.<br>3. (Optional) *Mixed Bar* toggles ratio. | Beer **or** Liquor    | Generates +Jazz Age prestige after 1900 if >10 % state employment.             | 90 % Service\_Worker, 9 % Manager, 1 % Capitalist |
| **Restaurant** (Hospitality) | 1. **Bistro**: Meat → `service_food`.<br>2. **Grocers’ Kitchen** (tech: Canning): Groceries → service\_food (+20 % throughput).                                                                | Meat **or** Groceries | -5 % Pop Mortality (urban malnutrition) in state if service\_food < price 40.  | 85 % SW, 14 % Mgr, 1 % Cap                        |
| **Café**                     | 1. **Coffeehouse**: Coffee → `service_coffee`.<br>2. **Tea Room** (tech: Tea Culture): Tea → service\_coffee (less throughput, +Literacy gain).                                                | Coffee or Tea         | Pops in state get +0.05 monthly Literacy if service\_coffee cheap.             | 88 % SW, 11 % Mgr, 1 % Cap                        |
| **Dispensary**               | 1. **Tobacconist**: Tobacco → `service_tobacco`.                                                                                                                                               | Tobacco               | Increases SoL happiness modifier for Pops with Luxury Drink need filled 100 %. | 92 % SW, 7 % Mgr, 1 % Cap                         |

### 4.4  Promotion & Qualification Rules

* Add `service_qualification` automatically to pops working in any Hospitality building for 6 months+.
* Promotion rule: Labourer or Peasant with 10 % Literacy & service\_qualification may become Service\_Worker.
* Service\_Worker with Literacy ≥ 30 %, Wealth ≥ 8 promotes to Manager if vacancy exists.

---

## 5  | Balance & AI Integration

1. **Economic AI**

   * Add *Hospitality\_Interest* node in `ai_economic_plans`, activated once urban pop > 30 % and staple\_food price < 30.
   * Bars require `beer OR liquor price < 35` to be queued; Restaurants require `meat OR groceries price < 40`.

2. **SoL maths**

   * `service_*` goods satisfy the parent need at 125 % efficiency—encourages late‑game shift without crashing staple demand.
   * Default consumption shares: by 1900 upper‑class POPs aim for 60 % of Luxury Drinks via services, middle‑class 40 %, poor 20 %.

3. **Throughput & pricing**

   * Base output: 1 Bar level converts 10 Beer into 8 service\_beer.
   * Price floor for service\_\* goods is 15 to prevent negative QoL spiral in colonies lacking input goods.

4. **Performance safeguards**

   * Hospitality buildings cannot be built in rural states (<20 urbanisation) to avoid tiny pops.
   * Annual event merges any Service\_Worker pop < 500 with nearest pop of same culture/religion.

---

## 6  | User‑Interface & UX

| Screen              | Change                                                                                    |
| ------------------- | ----------------------------------------------------------------------------------------- |
| **Market UI**       | Collapsible “Service Goods” section (default collapsed).                                  |
| **Population lens** | New icons for Service Worker & Manager; appear after first service building is erected.   |
| **Building panel**  | Hospitality group tab with unique café/restaurant/bar art set.                            |
| **Tooltip**         | “This *service\_beer* counts as 1.25 units of *Beer* when fulfilling Luxury Drink needs.” |

---

## 7  | Content & Flavour

* **Events**

  * “The Coffeehouse Circle” – boosts Intelligentsia IG power in state.
  * “Bar Brawl!” – temporary Law Enforcement cost, boosts radicals among Service\_Workers.
  * “Celebrity Chef” – +20 Prestige, +10 % service\_food throughput for 5 years.

* **Journal Entry** – *Urban Leisure Boom*

  * Goal: Have 50 service buildings nationwide; reward = +10 % Urban Centre tax income.

---

## 8  | Implementation Roadmap

| Phase                     | ETA    | Deliverables                                                                   |
| ------------------------- | ------ | ------------------------------------------------------------------------------ |
| **A. Data & Definitions** | +2 wks | Goods.txt, Pop\_Types.txt, Buildings.txt edits; add Bar building + Beer split. |
| **B. Core Mechanics**     | +1 wk  | Service goods efficiency code, qualification/promotions, AI plan.              |
| **C. GUI & Icons**        | +1 wk  | Service goods group toggle; 2 pop icons; 3 bldg thumbnails.                    |
| **D. Balance Pass 1**     | +1 wk  | Autogame 1836→1900, adjust throughput & wages.                                 |
| **E. Content Pass**       | +2 wks | Events ×3, Journal, localisation.                                              |
| **F. Public Alpha**       | —      | Release on Steam Workshop, solicit feedback.                                   |

*(Total: \~7 weeks man‑time; can overlap GUI & Content work.)*

---

## 9  | Acceptance Criteria Checklist

* [ ] Beer appears in 1836 game start; Liquor prices unchanged.
* [ ] First Bar built in London by AI before 1855 in >75 % of test runs.
* [ ] Service\_Workers pop exists in every major economy by 1870.
* [ ] SoL of urban poor +0.5 – 1.0 by 1900 compared to vanilla baseline (owing to services).
* [ ] Tick time impact measured < +5 % in 1880 save on reference PC.
* [ ] No top‑level UI overflow; all new goods/localisations display correctly.


---

## 10  | Future Entertainment Buildings

Several additional service industries are planned for a later phase of the mod. These include:

- Opera House
- Theater
- Bandstand
- Sports Stadium
- Radio Station
- Movie Theater
- Film Studio

Implementation notes and open tasks are tracked in [docs/entertainment_buildings_tasks.md](docs/entertainment_buildings_tasks.md).

